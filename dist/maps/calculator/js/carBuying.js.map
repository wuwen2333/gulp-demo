{"version":3,"sources":["calculator/js/carBuying.js"],"names":["$","document","ready","carPrice","downpayment","resultData","loanTerm","lendingRate","carBuying","this","carTax","$loanTerm","i","_data","text","push","_picker","Picker","data","selectedIndex","on","selectedVal","off","show","$carTax","value","find","handleInput","_id","attr","$this","val","submit","$submit","alert","licenseFee","window","location","href","JSON","stringify","init"],"mappings":"aAAAA,EAAEC,UAAUC,MAAM,WAAhBD,IAAAA,GAGEE,SAAU,EADZC,YAAIC,EACFF,SAAU,GACVC,YAAa,EACbE,WAHe,EAIfC,OAAAA,KAJFC,GAUAA,KAAiB,WADjBC,KAAID,WACJA,KAAAA,SACEC,KAAKH,cACLG,KAAKC,UAELF,SAAe,WAGf,IAPF,IAAAG,EAAAX,EAAA,aAMAQ,KACMG,EAAAA,EAAYX,GAAE,EAAAY,IAClBC,EAAIA,MACJC,KAAaF,EAAb,IACEC,MAAME,IAIP,IAAAC,EAAA,IAAAC,QACDC,MAAAL,GACAM,eAAkBF,GAChBC,MAAOL,SADgBG,EAAzBI,GAAA,qBAAA,SAAAC,EAAAF,GAKAd,EAAAC,SAAAe,EAAA,GACAL,IAAAA,EAAWH,EAAAM,EAAsB,IAAUE,KAA3CL,KAAiC,GAAAK,EAAjCL,KACEX,EAAAA,KAAWC,UAAWe,KAAAA,KAGvBV,EAJDW,MAAAF,GAAA,QAAA,WAOEJ,EAAQO,UACTf,OAFD,WAtBF,IAAAgB,EAAAxB,EAAA,WA0BAQ,IACEM,KAAIU,kBACJC,MAAIZ,MAEFY,KAAAA,sBAFUA,MAGT,MAEDA,KAAAA,sBALUA,MAMT,MAEDA,KAAAA,sBARUA,MAST,MAEDA,KAAAA,uBAXUA,MAYT,OAEDA,KAAAA,uBAdUA,MAeT,OAEDA,KAAAA,mBAjBUA,MAkBT,OAlBHT,EAAA,IAAAC,QAsBAC,MAAAL,GACAM,eAAkBF,GAChBC,MAAOL,QADgBG,EAAzBI,GAAA,qBAAA,SAAAC,EAAAF,GAKAd,EAAAK,OAAAW,EAAA,GACAL,EAAAU,KAAW,UAAAZ,KAAAD,EAAsBM,EAAUE,IAAVP,QAGhCU,EAHDF,MAAAF,GAAA,QAAA,WAMEJ,EAAQO,UACTf,YAFD,WApCFR,EAAA,QAAA0B,KAAA,SAAAN,GAAA,QAAA,WAwCAZ,IAAAA,EAAUmB,EAAAA,MACNC,EAAQF,EAAKG,KAAf,MACExB,EAAIyB,GAAQA,EAAZC,SAGDvB,OAJD,WADFR,EAAA,WAOUgC,GAAAA,QAAS,YACbC,EAAY9B,UAAhBE,EAAAF,UAAA,EACA8B,MAAA,mBAGI5B,EAAAD,aAAAC,EAAAD,aAAA,GAAAC,EAAAD,aAAA,IACD8B,MAAA,uBAGC7B,EAAAE,aAAAF,EAAAE,aAAA,GAAAF,EAAAE,aAAA,IACD2B,MAAA,uBAGC7B,EAAA8B,YAAA9B,EAAAD,aAAA,EACD8B,MAAA,UAGCE,OAAAC,SAAAC,KAAA,2BAAAC,KAAAC,UAAAnC,OAGHG,EAlBDiC","file":"../../../calculator/js/carBuying.js","sourcesContent":["$(document).ready(function(){\n\n  var resultData = {\n    carPrice: 0, // 购车金额\n    downpayment: 0, // 首付比例\n    loanTerm: 36, // 贷款期限\n    lendingRate: 0, // 贷款利率\n    licenseFee: 0, // 上牌费\n    carTax: 420, // 车船税\n  };\n\n  var carBuying = {};\n  carBuying.init = function() {\n    this.loanTerm(); // 贷款期限\n    this.carTax(); // 车船税\n    this.handleInput();\n    this.submit(); // 提交\n  };\n  carBuying.loanTerm = function() {\n    var $loanTerm = $('#loanTerm');\n    var _data = [];\n    for (var i = 1; i <= 5; i++) {\n      _data.push({\n        text: `${i}年`,\n        value: i,\n      })\n    }\n    // 初始化picker\n    var _picker = new Picker({\n      data: [_data],\n      selectedIndex: [2],\n      title: '贷款期限'\n    });\n    // 用户选择值改变\n    _picker.on('picker.valuechange', function (selectedVal, selectedIndex) {\n      resultData.loanTerm = selectedVal[0];\n      var _innerText = `${_data[selectedIndex[0]].text}年(${selectedVal * 12}期)`;\n      $loanTerm.find('.value').text(_innerText);\n    });\n\n    $loanTerm.off().on('click', function () {\n      _picker.show();\n    });\n  };\n  carBuying.carTax = function() {\n    var $carTax = $('#carTax');\n    var _data = [{\n      text: '300元(1.0L(含)以下)',\n      value: 300,\n    }, {\n      text: '420元(1.0-1.6L(含)以下)',\n      value: 420,\n    }, {\n      text: '480元(1.6-2.0L(含)以下)',\n      value: 480,\n    }, {\n      text: '900元(2.0-2.5L(含)以下)',\n      value: 900,\n    }, {\n      text: '1920元(2.5-3.0L(含)以下)',\n      value: 1920,\n    }, {\n      text: '3480元(3.0-4.0L(含)以下)',\n      value: 3480,\n    }, {\n      text: '5280元(4.0L(含)以上)',\n      value: 5280,\n    }];\n    // 初始化picker\n    var _picker = new Picker({\n      data: [_data],\n      selectedIndex: [1],\n      title: '车船税'\n    });\n    // 用户选择值改变\n    _picker.on('picker.valuechange', function (selectedVal, selectedIndex) {\n      resultData.carTax = selectedVal[0];\n      $carTax.find('.value').text(_data[selectedIndex[0]].text);\n    });\n\n    $carTax.off().on('click', function () {\n      _picker.show();\n    });\n  };\n  carBuying.handleInput = function() {\n    $('.ipt').find('input').on('input', function() {\n      var $this = $(this);\n      var _id = $this.attr('id');\n      resultData[_id] = $this.val();\n    })\n  }\n  carBuying.submit = function() {\n    var $submit = $('#submit');\n    $submit.on('click', function() {\n      if (!resultData.carPrice || resultData.carPrice <= 0) {\n        alert('请输入购车金额，大于0的整数');\n        return;\n      }\n      if (!resultData.downpayment || resultData.downpayment <= 0 || resultData.downpayment >= 100) {\n        alert('请输入首付比例, 0-99.99之间');\n        return;\n      }\n      if (!resultData.lendingRate || resultData.lendingRate <= 0 || resultData.lendingRate >= 100) {\n        alert('请输入贷款利率, 0-99.99之间');\n        return;\n      }\n      if (!resultData.licenseFee || resultData.downpayment <= 0) {\n        alert('请输入上牌费');\n        return;\n      }\n      window.location.href=`carByingRes.html?params=${JSON.stringify(resultData)}`;\n    })\n  }\n  carBuying.init();\n});"]}